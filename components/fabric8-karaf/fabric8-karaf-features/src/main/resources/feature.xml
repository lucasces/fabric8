<!--
  ~ Copyright 2005-2016 Red Hat, Inc.
  ~
  ~ Red Hat licenses this file to you under the Apache License, version
  ~ 2.0 (the "License"); you may not use this file except in compliance
  ~ with the License.  You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
  ~ implied.  See the License for the specific language governing
  ~ permissions and limitations under the License.
  -->
<features xmlns="http://karaf.apache.org/xmlns/features/v1.2.0" name="fabric8-karaf-features-${project.version}">

  <feature name="kubernetes-client" description="Fabric8 Kubernetes Client" version="${project.version}">
    <bundle dependency='true'>mvn:javax.validation/validation-api/2.0.1.Final</bundle>
    <bundle dependency='true'>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jsr305/3.0.2_1</bundle>
    <bundle dependency='true'>mvn:com.fasterxml.jackson.core/jackson-core/2.9.9</bundle>
    <bundle dependency='true'>mvn:com.fasterxml.jackson.core/jackson-annotations/2.9.9</bundle>
    <bundle dependency='true'>mvn:com.fasterxml.jackson.core/jackson-databind/2.9.9.3</bundle>
    <bundle dependency='true'>mvn:com.fasterxml.jackson.dataformat/jackson-dataformat-yaml/2.9.9</bundle>
    <bundle dependency='true'>mvn:org.yaml/snakeyaml/1.24</bundle>
    <bundle dependency='true'>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.generex/1.0.1_1</bundle>
    <bundle dependency='true'>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.automaton/1.11-8_1</bundle>
    <bundle dependency='true'>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.conscrypt-openjdk/1.4.2_1</bundle>
    <bundle dependency='true'>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.okhttp/3.12.0_1</bundle>
    <bundle dependency='true'>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.okio/1.15.0_1</bundle>
    <bundle>mvn:io.fabric8/zjsonpatch/0.3.0</bundle>
    <bundle>mvn:io.fabric8/kubernetes-model/4.4.2</bundle>
    <bundle>mvn:io.fabric8/kubernetes-client/4.4.2/jar/bundle</bundle>
  </feature>

  <feature name="fabric8-karaf-core" description="Fabric8 Karaf Core" version="${project.version}">
    <feature>scr</feature>
    <feature>aries-blueprint</feature>
    <feature>kubernetes-client</feature>
    <bundle dependency="true">mvn:commons-codec/commons-codec/${commons-codec.version}</bundle>
    <bundle dependency="true">mvn:org.apache.commons/commons-lang3/${commons-lang3.version}</bundle>
    <bundle start-level="60">mvn:io.fabric8/fabric8-karaf-core/${project.version}</bundle>
  </feature>

  <feature name="fabric8-karaf-blueprint" description="Fabric8 Karaf Blueprint" version="${project.version}">
    <feature>fabric8-karaf-core</feature>
    <bundle start-level="65">mvn:io.fabric8/fabric8-karaf-blueprint/${project.version}</bundle>
  </feature>

  <feature name="fabric8-karaf-cm" description="Fabric8 Karaf ConfigAdmin Bridge" version="${project.version}">
    <feature>fabric8-karaf-core</feature>
    <bundle start-level="65">mvn:io.fabric8/fabric8-karaf-cm/${project.version}</bundle>
  </feature>

  <feature name="fabric8-karaf-checks" description="Fabric8 Karaf Checks" version="${project.version}">
    <feature>scr</feature>
    <feature>war</feature>
    <bundle start-level="65">mvn:io.fabric8/fabric8-karaf-checks/${project.version}</bundle>
  </feature>

</features>